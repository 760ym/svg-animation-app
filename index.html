<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG Animation App</title>
  <style>
    svg {
      border: 1px solid black;
      user-select: none;
    }
    .player {
      cursor: pointer;
      fill-opacity: 0.8;
    }
    .player-text {
      font-size: 12px;
      text-anchor: middle;
      alignment-baseline: middle;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <svg id="scene" width="800" height="600"></svg>
  <button onclick="playAnimation()">Play Animation</button>

  <script>
    const svg = document.getElementById('scene');
    const teamColors = [
      'red', 'blue', 'green', 'yellow', 'purple', 'orange', 'pink', 'brown', 'cyan', 'magenta'
    ];

    // Create 10 teams, each team in the same place
    function createTeams() {
      let x = 100;
      let y = 100;

      teamColors.forEach((color, teamIndex) => {
        let numPlayers = teamIndex + 1; // Each team has teamIndex + 1 players
        for (let i = 0; i < numPlayers; i++) {
          createPlayer(x, y, color, i + 1);
        }
      });
    }

    function createPlayer(x, y, color, number) {
      const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
      const player = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      player.setAttribute('cx', x);
      player.setAttribute('cy', y);
      player.setAttribute('r', 20);
      player.setAttribute('fill', color);
      player.classList.add('player');

      const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      text.setAttribute('x', x);
      text.setAttribute('y', y);
      text.classList.add('player-text');
      text.textContent = number;

      group.appendChild(player);
      group.appendChild(text);
      svg.appendChild(group);

      // Add drag-and-drop functionality
      let isDragging = false;

      group.addEventListener('mousedown', (event) => {
        isDragging = true;
        event.preventDefault();
      });

      svg.addEventListener('mousemove', (event) => {
        if (isDragging) {
          const point = svg.createSVGPoint();
          point.x = event.clientX;
          point.y = event.clientY;
          const svgPoint = point.matrixTransform(svg.getScreenCTM().inverse());
          player.setAttribute('cx', svgPoint.x);
          player.setAttribute('cy', svgPoint.y);
          text.setAttribute('x', svgPoint.x);
          text.setAttribute('y', svgPoint.y);
        }
      });

      svg.addEventListener('mouseup', () => {
        if (isDragging) {
          isDragging = false;
        }
      });
    }

    createTeams();

    // Placeholder function for playing animation
    function playAnimation() {
      console.log('Play animation');
    }
  </script>
</body>
</html>
